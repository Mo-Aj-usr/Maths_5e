<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>QCM – Calcul littéral (5e)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: linear-gradient(135deg, #eef2ff, #fdfefe);
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
    }

    .container {
        background: white;
        max-width: 720px;
        width: 100%;
        padding: 25px;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    }

    h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 10px;
    }

    /* Dashboard */
    .dashboard {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        font-weight: bold;
    }

    .progress-bar {
        background: #e0e0e0;
        border-radius: 10px;
        overflow: hidden;
        height: 12px;
        margin-bottom: 20px;
    }

    .progress {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, #4facfe, #00f2fe);
        transition: width 0.4s;
    }

    .question {
        font-size: 1.15em;
        margin-bottom: 15px;
    }

    .choices button {
        width: 100%;
        padding: 12px;
        margin: 8px 0;
        border: none;
        border-radius: 10px;
        font-size: 1em;
        cursor: pointer;
        background: #f1f3f6;
        transition: 0.2s;
    }

    .choices button:hover {
        background: #dde7ff;
    }

    .correct {
        background: #c8f7c5 !important;
    }

    .wrong {
        background: #f8c6c6 !important;
    }

    #nextBtn {
        margin-top: 15px;
        padding: 12px;
        width: 100%;
        border: none;
        border-radius: 10px;
        background: #4facfe;
        color: white;
        font-size: 1.05em;
        cursor: pointer;
        display: none;
    }

    #result {
        text-align: center;
        font-size: 1.2em;
        margin-top: 20px;
    }

    @media (max-width: 600px) {
        h1 {
            font-size: 1.4em;
        }
    }
</style>
</head>

<body>
<div class="container">
    <h1>QCM – Calcul littéral (5e)</h1>

    <div class="dashboard">
        <div>Score : <span id="score">0</span>/15</div>
        <div>Question <span id="qNum">1</span>/15</div>
    </div>

    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>

    <div id="quiz">
        <div class="question" id="question"></div>
        <div class="choices" id="choices"></div>
    </div>

    <button id="nextBtn">Question suivante</button>
    <div id="result"></div>
</div>

<script>
const questions = [
    { q: "Simplifier : 3x + 5x", c: ["8x", "15x", "x⁸", "3x⁵"], a: 0 },
    { q: "Réduire : 7a − 2a", c: ["5a", "9a", "14a", "a"], a: 0 },
    { q: "Simplifier : 4 × x", c: ["4x", "x4", "x + x + x + x", "x⁴"], a: 0 },
    { q: "Développer : 3(x + 2)", c: ["3x + 2", "3x + 6", "x + 6", "6x"], a: 1 },
    { q: "Développer : 5(x − 1)", c: ["5x − 1", "5x − 5", "x − 5", "4x"], a: 1 },
    { q: "Réduire : 2x + 4 − x", c: ["x + 4", "3x + 4", "x", "2x + 3"], a: 0 },
    { q: "Réduire : 6y − 3y + 2", c: ["3y + 2", "6y − 1", "y + 2", "9y + 2"], a: 0 },
    { q: "Simplifier : 1 × a", c: ["a", "1a²", "0", "a + 1"], a: 0 },
    { q: "Calculer la valeur de x + 3 pour x = 5", c: ["8", "15", "5", "2"], a: 0 },
    { q: "Calculer la valeur de 2x pour x = 4", c: ["6", "8", "4", "2"], a: 1 },
    { q: "Tester l’égalité : x + 2 = 7 pour x = 5", c: ["Vraie", "Fausse"], a: 0 },
    { q: "Tester l’égalité : 3x = 10 pour x = 3", c: ["Vraie", "Fausse"], a: 1 },
    { q: "Quelle expression correspond à « le double de x augmenté de 1 » ?", c: ["2x + 1", "x + 2", "2(x + 1)", "x² + 1"], a: 0 },
    { q: "Quelle expression correspond à « le triple de la somme de x et 2 » ?", c: ["3x + 2", "3(x + 2)", "x + 6", "6x"], a: 1 },
    { q: "Simplifier : 0 × (x + 5)", c: ["x + 5", "0", "5", "x"], a: 1 }
];

let index = 0;
let score = 0;
let answered = false;

const questionEl = document.getElementById("question");
const choicesEl = document.getElementById("choices");
const scoreEl = document.getElementById("score");
const qNumEl = document.getElementById("qNum");
const progressEl = document.getElementById("progress");
const nextBtn = document.getElementById("nextBtn");
const resultEl = document.getElementById("result");

function loadQuestion() {
    answered = false;
    const q = questions[index];
    questionEl.textContent = q.q;
    choicesEl.innerHTML = "";
    q.c.forEach((choice, i) => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.onclick = () => checkAnswer(btn, i);
        choicesEl.appendChild(btn);
    });
    qNumEl.textContent = index + 1;
    progressEl.style.width = ((index) / questions.length * 100) + "%";
}

function checkAnswer(button, choiceIndex) {
    if (answered) return;
    answered = true;

    const correctIndex = questions[index].a;
    const buttons = choicesEl.querySelectorAll("button");

    if (choiceIndex === correctIndex) {
        button.classList.add("correct");
        score++;
        scoreEl.textContent = score;
    } else {
        button.classList.add("wrong");
        buttons[correctIndex].classList.add("correct");
    }

    nextBtn.style.display = "block";
}

nextBtn.onclick = () => {
    index++;
    nextBtn.style.display = "none";

    if (index < questions.length) {
        loadQuestion();
    } else {
        progressEl.style.width = "100%";
        quiz.innerHTML = "";
        resultEl.innerHTML = `<strong>Résultat final :</strong><br>${score} / 15`;
    }
};

loadQuestion();
</script>
</body>
</html>
