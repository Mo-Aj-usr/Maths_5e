<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>QCM – Découvrir la proportionnalité (Maths 5e)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
            line-height: 1.5;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .question {
            border: 1px solid #ccc;
            border-radius: 6px;
            background: #fff;
            padding: 12px;
            margin-bottom: 10px;
        }
        .question h3 {
            margin: 0 0 10px 0;
            font-size: 1rem;
        }
        .answers label {
            display: block;
            margin-bottom: 8px;
        }
        .correction {
            margin-top: 6px;
            font-size: 0.9rem;
        }
        .bonne { color: green; }
        .mauvaise { color: red; }
        #resultat {
            margin-top: 15px;
            font-weight: bold;
        }
        button {
            padding: 8px 14px;
            font-size: 1rem;
            margin-right: 8px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>QCM – Découvrir la proportionnalité (5e)</h1>
<p>
    Ce QCM permet de découvrir la notion de <strong>proportionnalité</strong> :
    définition, reconnaissance et calculs simples.
</p>

<div id="qcm"></div>

<button id="corrigerBtn">Corriger</button>
<button id="resetBtn">Réinitialiser</button>

<div id="resultat"></div>

<script>
const questions = [
    {
        texte: "Deux grandeurs sont proportionnelles lorsque :",
        propositions: [
            "leur différence est constante",
            "leur somme est toujours la même",
            "le quotient de l’une par l’autre est constant",
            "elles augmentent toujours"
        ],
        bonne: 2,
        explication: "Définition : deux grandeurs sont proportionnelles si le quotient de l’une par l’autre est constant."
    },
    {
        texte: "Laquelle de ces situations est une situation de proportionnalité ?",
        propositions: [
            "L’âge d’un élève et sa taille",
            "La distance parcourue et le temps à vitesse constante",
            "La température et l’heure de la journée",
            "Le numéro d’une maison et sa surface"
        ],
        bonne: 1,
        explication: "À vitesse constante, la distance est proportionnelle au temps."
    },
    {
        texte: "Dans un tableau de proportionnalité, on peut passer d’une ligne à l’autre en :",
        propositions: [
            "ajoutant toujours le même nombre",
            "multipliant ou divisant par un même nombre",
            "changeant les nombres au hasard",
            "additionnant les deux lignes"
        ],
        bonne: 1,
        explication: "Dans un tableau de proportionnalité, on effectue la même multiplication ou division sur les deux lignes."
    },
    {
        texte: "Si 1 cahier coûte 2 €, combien coûtent 4 cahiers ?",
        propositions: ["6 €", "8 €", "10 €", "12 €"],
        bonne: 1,
        explication: "4 × 2 = 8 €."
    },
    {
        texte: "Le coefficient de proportionnalité pour passer de 5 à 20 est :",
        propositions: ["4", "15", "25", "3"],
        bonne: 0,
        explication: "20 = 5 × 4, donc le coefficient est 4."
    },
    {
        texte: "3 kg de pommes coûtent 6 €. Combien coûtent 6 kg ?",
        propositions: ["9 €", "10 €", "12 €", "18 €"],
        bonne: 2,
        explication: "Le prix double quand la quantité double : 6 € × 2 = 12 €."
    },
    {
        texte: "Une voiture parcourt 100 km en 2 heures. En 4 heures, elle parcourra :",
        propositions: ["150 km", "200 km", "300 km", "400 km"],
        bonne: 1,
        explication: "Le temps double, donc la distance double : 100 × 2 = 200 km."
    },
    {
        texte: "Laquelle de ces situations n’est PAS proportionnelle ?",
        propositions: [
            "Le prix et la quantité achetée",
            "La distance et le temps à vitesse constante",
            "Le périmètre d’un carré et la longueur du côté",
            "L’âge d’une personne et son année de naissance"
        ],
        bonne: 3,
        explication: "L’âge et l’année de naissance ne sont pas proportionnels."
    },
    {
        texte: "5 stylos coûtent 10 €. Combien coûte 1 stylo ?",
        propositions: ["1 €", "2 €", "5 €", "10 €"],
        bonne: 1,
        explication: "Retour à l’unité : 10 ÷ 5 = 2 €."
    },
    {
        texte: "10 % de 50 € correspond à :",
        propositions: ["5 €", "10 €", "15 €", "50 €"],
        bonne: 0,
        explication: "10 % signifie « pour 100 » : 10 % de 50 € = 5 €."
    }
];

// Génération du QCM
const qcmDiv = document.getElementById("qcm");

questions.forEach((q, index) => {
    const div = document.createElement("div");
    div.className = "question";

    const h3 = document.createElement("h3");
    h3.textContent = "Question " + (index + 1) + " — " + q.texte;
    div.appendChild(h3);

    const answers = document.createElement("div");
    answers.className = "answers";

    q.propositions.forEach((prop, i) => {
        const label = document.createElement("label");
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "q" + index;
        input.value = i;
        label.appendChild(input);
        label.appendChild(document.createTextNode(" " + prop));
        answers.appendChild(label);
    });

    div.appendChild(answers);

    const corr = document.createElement("div");
    corr.className = "correction";
    corr.id = "corr-q" + index;
    div.appendChild(corr);

    qcmDiv.appendChild(div);
});

// Correction
document.getElementById("corrigerBtn").addEventListener("click", () => {
    let score = 0;

    questions.forEach((q, index) => {
        const corr = document.getElementById("corr-q" + index);
        const inputs = document.querySelectorAll("input[name='q" + index + "']");
        let bonneReponse = false;

        inputs.forEach((inp, i) => {
            if (inp.checked && i === q.bonne) bonneReponse = true;
        });

        if (bonneReponse) {
            score++;
            corr.innerHTML = "<span class='bonne'>✓ Bonne réponse.</span> " + q.explication;
        } else {
            corr.innerHTML =
                "<span class='mauvaise'>✗ Mauvaise réponse.</span> " +
                "Réponse correcte : <strong>" + q.propositions[q.bonne] + "</strong>. " +
                q.explication;
        }
    });

    document.getElementById("resultat").innerHTML =
        "<strong>Score : " + score + " / " + questions.length + "</strong>";
});

// Réinitialisation
document.getElementById("resetBtn").addEventListener("click", () => {
    document.querySelectorAll("input[type='radio']").forEach(i => i.checked = false);
    document.querySelectorAll(".correction").forEach(d => d.innerHTML = "");
    document.getElementById("resultat").innerHTML = "";
});
</script>

</body>
</html>
